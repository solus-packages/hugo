name       : hugo
version    : '0.29'
release    : 24
source     :
    - https://github.com/gohugoio/hugo/archive/v0.29.tar.gz : 8b8025472b7699e52a5f6b0cec0a5339130159b1d6ab5d281ed2fc69c97f48c0
license    : Apache-2.0
component  : programming
networking : yes
extract    : no
summary    : Hugo is a static HTML and CSS website generator written in Go.
description: |
    Hugo is a static HTML and CSS website generator written in Go.
builddeps  :
    - git
    - golang
setup      : |
    mkdir {bin,pkg,src}
    mkdir -p src/github.com/gohugoio/
    tar xf $sources/v$version.tar.gz -C src/github.com/gohugoio/
    cd src/github.com/gohugoio/
    mv hugo-$version hugo
build      : |
    export GOPATH=$workdir/
    export PATH=$PATH:$GOPATH:$GOPATH/bin/
    # Workaround failing to fetch yaml.v2
    go get github.com/go-yaml/yaml
    mkdir -p .cache/govendor/gopkg.in/
    mv src/github.com/go-yaml/yaml .cache/govendor/gopkg.in/yaml.v2
    # Continue on with build
    cd src/github.com/gohugoio/hugo/
    make govendor
    make no-git-info
install    : |
    cd src/github.com/gohugoio/hugo/
    install -Dm00755 hugo $installdir/usr/bin/hugo
